(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(30),r=n.n(a),i=(n(37),n(4)),o=n(32),j=n(9),d=n(2),l=n(14),b=n(10),u=n.n(b),p=n(15),O=n(1);var h=function(e){return Object(O.jsxs)("div",{className:"post-container add-post-container",children:[Object(O.jsx)("input",{placeholder:"Soc...",className:"add-post-input",type:"text",onChange:e.doChange}),Object(O.jsx)("button",{className:"btn-add-post btn",onClick:e.doClick,children:"Post Soc"})]})};var m=function(e){return Object(O.jsxs)("div",{className:"reply add-reply",children:[Object(O.jsx)("input",{type:"text",placeholder:"Reply...",onChange:e.doChange}),Object(O.jsx)("button",{className:"btn btn-primary btn-add-post",onClick:e.doClick,children:"Reply"})]})};var x=function(e){var t=e.isReply?[]:[Object(O.jsxs)("div",{className:"post",children:[Object(O.jsx)("span",{className:"user",children:"@"+e.user}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"post-content",children:e.post})]})];e.otherPosts.forEach((function(n){n.isReply&&n.replyTo===e.nanoid&&(t=[].concat(Object(l.a)(t),[Object(O.jsxs)("div",{className:"reply",children:[Object(O.jsx)("span",{className:"user",children:"> @"+n.user}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"post-content",children:n.post})]})]))}));var n=Object(O.jsx)(m,{doClick:function(t){return e.doReplyClick(t,e.nanoid)},doChange:e.doReplyChange});return Object(O.jsx)("div",{className:"post-container",children:t.map((function(e){return[e,n]}))})};var f=function(e){var t=Object(c.useState)([]),n=Object(i.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),j=o[0],d=o[1],b=Object(c.useState)(""),m=Object(i.a)(b,2),f=m[0],g=m[1],v=Object(c.useState)(e.currentUser),y=Object(i.a)(v,2),N=y[0],k=y[1];Object(c.useEffect)((function(){k(e.currentUser)}),[e.currentUser]);var C=function(e){g(e.currentTarget.value)},S=function(e,t){var n={nanoid:Object(p.a)(),post:f,user:N,replyTo:t,isReply:!0};a([].concat(Object(l.a)(s),[n])),u.a.post("https://soc-media-backend.herokuapp.com"+"/api/add-reply/".concat(t),JSON.stringify(n))};return Object(c.useEffect)((function(){u.a.get("https://soc-media-backend.herokuapp.com/api/get-posts").then((function(e){a(e.data)}))}),[]),Object(O.jsxs)("div",{className:"feed-container",children:[Object(O.jsx)(h,{doChange:function(e){d(e.currentTarget.value)},doClick:function(e){var t={nanoid:Object(p.a)(),post:j,user:N,replyTo:"",isReply:!1};a([].concat(Object(l.a)(s),[t])),u.a.post("https://soc-media-backend.herokuapp.com/api/add-post",JSON.stringify(t))}}),s.map((function(e){return Object(O.jsx)(x,{nanoid:e.nanoid,post:e.post,user:e.user,isReply:e.isReply,replyTo:e.replyTo,otherPosts:s,doReplyClick:S,doReplyChange:C})}))]})};var g=function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),d=o[0],l=o[1];return Object(O.jsx)("div",{className:"form-container",children:Object(O.jsxs)("form",{className:"sign-in-form",children:[Object(O.jsx)("input",{className:"form-username",type:"text",placeholder:"Username",onChange:function(e){a(e.currentTarget.value)}}),Object(O.jsx)("input",{className:"form-password",type:"password",placeholder:"Password",onChange:function(e){l(e.currentTarget.value)}}),Object(O.jsx)("input",{className:"form-submit",type:"submit",onClick:function(t){u.a.get("https://soc-media-backend.herokuapp.com/api/get-users").then((function(t){t.data.forEach((function(t){var n=t.password,c=t.username;e.signIn(d===n&&s===c,c)}))}))}}),Object(O.jsx)("footer",{children:Object(O.jsx)("span",{children:Object(O.jsx)(j.b,{to:"/signUp",children:"Click here to sign up"})})})]})})};var v=function(e){var t,n=e.isSignedIn;return t=n?Object(O.jsx)("button",{className:"btn sign-btn sign-in-btn",children:"Sign Out"}):Object(O.jsx)("button",{className:"btn sign-btn sign-out-btn",children:"Sign In"}),Object(O.jsx)(j.b,{to:n?"/signOut":"/signIn",children:t})};var y=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),o=r[0],j=r[1];return Object(O.jsx)("div",{className:"form-container",children:Object(O.jsxs)("form",{className:"sign-up-form",children:[Object(O.jsx)("input",{type:"text",placeholder:"Username...",onChange:function(e){s(e.currentTarget.value)}}),Object(O.jsx)("input",{type:"password",placeholder:"Password...",onChange:function(e){j(e.currentTarget.value)}}),Object(O.jsx)("input",{type:"submit",className:"btn btn-primary",onClick:function(e){var t={nanoid:Object(p.a)(),name:n,username:n,password:o};u.a.post("https://soc-media-backend.herokuapp.com/api/add-user",JSON.stringify(t))}})]})})};var N=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)("Anonymous"),r=Object(i.a)(a,2),l=r[0],b=r[1];return Object(O.jsxs)("div",{className:"app-container",children:[Object(O.jsxs)("header",{className:"app-header",children:[Object(O.jsx)(j.b,{className:"heading-link",to:"/",children:Object(O.jsx)("h1",{children:"Soc Media"})}),Object(O.jsxs)("div",{className:"sub-header",children:[Object(O.jsx)(v,{isSignedIn:n}),Object(O.jsx)(o.a,{className:"icon header-icon smile-icon"})]})]}),Object(O.jsx)("div",{className:"content",children:Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{exact:!0,path:"/",children:Object(O.jsx)(f,{currentUser:l})}),Object(O.jsx)(d.a,{path:"/signIn",children:Object(O.jsx)(g,{signIn:function(e,t){s(e),e&&b(t)}})}),Object(O.jsx)(d.a,{path:"/signOut",children:Object(O.jsx)("div",{className:"form-container",children:Object(O.jsx)("button",{className:"btn",onClick:function(e){s(!1),b("Anonymous")},children:"Sign Out"})})}),Object(O.jsx)(d.a,{path:"/signUp",children:Object(O.jsx)(y,{})})]})})]})};r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(j.a,{children:Object(O.jsx)(N,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.f13532b8.chunk.js.map